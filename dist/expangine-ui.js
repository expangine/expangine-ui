!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("expangine-runtime"),require("expangine-runtime-live")):"function"==typeof define&&define.amd?define(["expangine-runtime","expangine-runtime-live"],t):"object"==typeof exports?exports["expangine-ui"]=t(require("expangine-runtime"),require("expangine-runtime-live")):e["expangine-ui"]=t(e["expangine-runtime"],e["expangine-runtime-live"])}(window,(function(e,t){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),s={pop:1,push:1,shift:1,unshift:1,reverse:1,splice:1,sort:1},o={concat:1,every:1,fill:1,filter:1,find:1,findIndex:1,forEach:1,includes:1,indexOf:1,join:1,lastIndexOf:1,map:1,reduce:1,reduceRight:1,slice:1,some:1},a=function(){function e(e){this.value=e,this.next=this.prev=this}return e.prototype.forEach=function(e){for(var t=this.next,n=0;t!==this;){var i=t.next;e(t.value,t,n),t=i,n++}return n},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},e.prototype.insertAfter=function(e){this.next=e.next,this.prev=e,this.prev.next=this.next.prev=this},e.prototype.push=function(e){e.insertAfter(this.prev)},e.prototype.remove=function(){this.isEmpty()||(this.next.prev=this.prev,this.prev.next=this.next,this.prev=this.next=this)},e.prototype.isEmpty=function(){return this.next===this},e.head=function(){return new e(null)},e}(),c=function(){function e(e){this.observer=e,this.links=a.head()}return e.prototype.notify=function(e){void 0===e&&(e=!1);var t=!1;return this.links.toArray().forEach((function(e){e.watcher.notify(),t=t||e.watcher.deep})),e&&t&&this.observer.parent&&this.observer.parent.notify(e),t},e.prototype.destroy=function(){this.links.forEach((function(e){return e.remove()}))},e}(),u=[],l=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.expression=e,this.immediate=t,this.deep=n,this.dirty=!1,this.paused=!1,this.evaluating=!1,this.links=a.head()}return e.prototype.isWatching=function(){return!this.links.isEmpty()},e.prototype.notify=function(){this.evaluating||(this.dirty=!0,this.immediate&&this.update())},e.prototype.update=function(){this.evaluating=!0,this.off(),u.push(this);try{this.result=this.expression()}finally{if(u.pop(),this.dirty=!1,this.onResult)try{this.onResult()}finally{this.evaluating=!1}this.evaluating=!1}},e.prototype.off=function(){this.links.forEach((function(e){return e.remove()}))},e.prototype.pause=function(){this.paused||(this.off(),this.paused=!0)},e.prototype.resume=function(){this.paused&&(this.update(),this.paused=!1)},e}(),d=function(){function e(e,t){this.watcher=e,this.dependency=t,this.watcherNode=new a(this),this.dependencyNode=new a(this)}return e.prototype.remove=function(){this.watcherNode.remove(),this.dependencyNode.remove()},e.create=function(t,n){var i=null;return n.links.forEach((function(e){return i=e.watcher===t?e:i})),i||(i=new e(t,n),n.links.push(i.dependencyNode),t.links.push(i.watcherNode)),i},e}(),p={get:function(e,t,n){var i=e[t];if("$obs"===t)return i;var r=e.$obs;if("function"==typeof i){if(e instanceof Array){if(t in s)return function(e,t,n){return function(){for(var i=e.slice(),r=t.apply(e,arguments),s=Math.max(i.length,e.length),o=!1,a=0;a<s;a++)i[a]!==e[a]&&(o=o||n.notify(a)),a>=e.length&&n.remove(a);return e.length!==i.length&&(o=o||n.notify("length")),o&&n.parent&&n.parent.notify(!0),r}}(e,i,r);if(t in o)return function(e,t,n){return function(){for(var i=e.length,r=0;r<i;r++)f(e,r,e[r],n);return f(e,"length",e.length,n),t.apply(e,arguments)}}(e,i,r)}return i}return f(e,t,i,r)},set:function(e,t,n,i){n!==e[t]&&(e[t]=n,e.$obs.notify(t,!0));return!0},deleteProperty:function(e,t){return e.$obs.remove(t),!0}};function f(e,t,n,i){var r=i.dep(t);return u.forEach((function(e){return d.create(e,r)})),m(n)&&!b(n)&&(e[t]=n=h(n,{parent:r})),n}function h(e,t){var n=(void 0===t?{}:t).parent,i=void 0===n?null:n;if(m(e)&&!e.$obs){var r=Proxy.revocable(e,p);e=r.proxy,Object.defineProperty(e,"$obs",{value:new g(r.revoke,i),writable:!1,configurable:!0,enumerable:!1})}return e}function m(e){return!("object"!=typeof e||null===e)}function b(e){return!("object"!=typeof e||null===e||!e.$obs)}var g=function(){function e(e,t){void 0===t&&(t=null),this.revoke=e,this.parent=t,this.deps=Object.create(null)}return e.prototype.dep=function(e){var t=this.deps[e];return t||(this.deps[e]=t=new c(this)),t},e.prototype.notify=function(e,t){void 0===t&&(t=!1);var n=this.deps;return e in n?n[e].notify(t):(t&&this.parent&&this.parent.notify(t),!1)},e.prototype.remove=function(e){var t=this.deps;e in t&&(t[e].destroy(),delete t[e])},e.prototype.destroy=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var i=this.deps;for(var r in i)if(i[r].destroy(),delete i[r],t){var s=e[r];if(b(s))s.$obs.destroy(s,t,n)}n&&this.revoke()},e}();function v(e,t){var n=void 0===t?{}:t,i=n.immediate,r=void 0===i||i,s=n.deep,o=new l(e,r,void 0!==s&&s);return o.update(),o}class y{constructor(e=null,t=Object.create(null)){this.parent=e,this.observed=h(t),this.disables=0,this.link=new a(this),this.watchers=a.head()}createChild(e={},t=!0){const n=new y(this,e);return t&&(this.children||(this.children=a.head()),this.children.push(n.link)),n}get(e,t,n=!1){return e in this.observed?this.observed[e]:this.parent&&!n?this.parent.get(e,t):t}has(e,t=!1){return e in this.observed||!(!this.parent||t)&&this.parent.has(e)}set(e,t,n=!1){return!(!(e in this.observed)&&!n&&this.parent&&this.parent.set(e,t))&&(this.observed[e]=t,!0)}remove(e){e in this.observed?delete this.observed[e]:this.parent&&this.parent.remove(e)}setMany(e){for(const t in e)this.set(t,e[t])}watch(e,t,n=!0,s=!1){const o=r.LiveRuntime.defs.getExpression(e),c=r.LiveRuntime.getCommand(o);if(!o.isDynamic())return t(c(this)),()=>{};let u,l=!0;const d=v(()=>{const e=c(this);!n&&l||!l&&s&&i.DataTypes.equals(u,e)||t(e),u=s?i.DataTypes.copy(e):e,l=!1}),p=new a(d);return this.watchers.push(p),()=>{d.off(),p.remove()}}eval(e,t=[]){if(t.length>0){const n="__extra__",s=i.Exprs.const({}),o=i.Exprs.define(Object.assign({[n]:s},t.reduce((e,t)=>(e[t]=i.Exprs.get(n,t),e),{})),r.LiveRuntime.defs.getExpression(e)),a=r.LiveRuntime.eval(o);return e=>(s.value=e||{},a(this))}{const t=r.LiveRuntime.eval(e);return()=>t(this)}}evalNow(e){return this.eval(e)()}enable(){this.disables>0&&(this.disables--,0===this.disables&&this.watchers.forEach(e=>e.resume()),this.children&&this.children.forEach(e=>e.enable()))}disable(){0===this.disables&&this.watchers.forEach(e=>e.pause()),this.children&&this.children.forEach(e=>e.disable()),this.disables++}setEnabled(e){e?this.enable():this.disable()}destroy(){this.link.remove(),this.disables=Number.MAX_SAFE_INTEGER,this.watchers.forEach(e=>e.off()),this.children&&this.children.forEach(e=>e.destroy()),function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),b(e)){var i=e.$obs;delete e.$obs,i.destroy(e,t,n)}}(this.observed)}static register(){if(!this.registered){const{dataSet:e,dataGet:t,dataHas:n,dataRemove:s}=r.LiveRuntime;r.LiveRuntime.dataGet=(e,n)=>e instanceof y?e.get(n):t(e,n),r.LiveRuntime.dataSet=(t,n,i)=>t instanceof y?t.set(n,i):e(t,n,i),r.LiveRuntime.dataHas=(e,t)=>e instanceof y?e.has(t):n(e,t),r.LiveRuntime.dataRemove=(e,t)=>e instanceof y?e.remove(t):s(e,t),i.DataTypes.addCopier({priority:12,copy:e=>{if(e instanceof Event)return e}}),this.registered=!0}}static isWatchable(e){return r.LiveRuntime.defs.isExpression(e)}}function x(e,t){return O[t||`${e.collection}/${e.name}`]=e,e}y.registered=!1,y.register();const O=Object.create(null);class j{constructor(e,t,n,i,r,s){this.component=e,this.attrs=t,this.scope=n,this.outerScope=s||n,this.slots=i,this.parent=r,this.cache=Object.create(null)}call(e,t){const n=this.getAttributeExpression(e);if(n){const e=i.Exprs.define();for(const n in t)e.with(n,i.defs.getExpression(t[n]));return e.run(i.defs.getExpression(n)),e}return i.Exprs.noop()}callable(e){const t=this.getAttributeOptions(e),n=this.getAttributeExpression(e);if(!t||!t.callable||!n)throw new Error(`The ${e} is not callable.`);const i=Object.keys(t.callable.options.props);return this.scope.eval(n,i)}trigger(e,t){this.scope.observed.emit[e]=t}on(e,t){return this.scope.watch(i.Exprs.get("emit",e),t,!1)}update(){this.component.updated&&this.node&&this.component.updated(this)}render(){this.cache=Object.create(null);const e=w(this.component.render(this),this,this.scope);R(this.node.elements,e.elements),this.node=e}destroy(){this.scope.destroy()}getAttributeOptions(e){var t;const n=null===(t=this.component.attributes)||void 0===t?void 0:t[e];return!!n&&(n instanceof i.Type?{type:n}:n)}getAttributeExpression(e){const t=this.getAttributeOptions(e);return this.attrs[e]||!!t&&t.default}getSlotArrayLength(e="default"){const t=this.getSlotOptions(e);if(t&&t.arrayLength)return i.defs.getExpression(t.arrayLength);if(this.slots&&this.slots[e]&&Object(i.isObject)(this.slots[e])){const t=this.slots[e];let n;for(const e in t){const t=parseInt(e);Object(i.isNumber)(t)&&(void 0===n||t>n)&&(n=t)}if(void 0!==n)return i.Exprs.const(n+1)}return i.Exprs.const(0)}getSlotOptions(e="default"){if(this.component.slots){const n=this.component.slots[e];return t=n,Object(i.isObject)(t)&&t.scope instanceof i.Type?n:{scope:n}}var t;return!1}getSlotSize(e="default",t=0){return k(this.slots,e,t).length}hasSlot(e,t,n){return e in this.slots?t:n}whenSlot(e,t,n){return e in this.slots?n():t()}}function E(e){const[t]=e,n=Object(i.isString)(t)?t in $?t:t in O?":component":"*":":dynamic";return $[n]}function w(e,t,n,i){return E(e)(e,t,n,i)}function S(e,t,n){const i=new y(null,Object.assign(Object.assign({},e),{refs:{}})),r=new j({collection:"expangine",name:"mounted",attributes:{},events:{},slots:{},state:{},computed:{},render:()=>t},{},i),s=w(t,r,i);return n&&R([n],s.elements),r.node=s,r}function C(e){return!!e&&Object(i.isObject)(e.style)}function k(e,t="default",n=0){return e?Object(i.isArray)(e)?e:Object(i.isObject)(e)&&Object(i.isArray)(e[t])?e[t]:Object(i.isObject)(e)&&Object(i.isObject)(e[t])&&Object(i.isArray)(e[t][n])?e[t][n]:[]:[]}function A(e){return"object"==typeof e&&!Array.isArray(e)}function R(e,t){if(0===e.length)e.push(...t);else{const n=e[0].parentNode;if(n){const i=new Set(e);let r=e[0].previousSibling;for(let s=0;s<t.length;s++){const o=t[s],a=r?r.nextSibling:e[s];i.delete(o),a!==o&&(a?n.insertBefore(o,a):!r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),r=o}for(const e of i)n.removeChild(e)}e.splice(0,e.length,...t)}}function I(e,t,n,r,s=!1){const o=[],a=[];for(const s of e)if(Object(i.isString)(s))o.push(document.createTextNode(s));else if(y.isWatchable(s)){const e=document.createTextNode("");t.watch(s,t=>{e.textContent=t}),o.push(e)}else{const e=w(s,n,t,r);for(const t of e.elements)o.push(t);e.scope!==t&&a.push(e.scope),r.children?r.children.push(e):r.children=[e]}return{elements:o,updateScopes(e){t.setMany(e);for(const t of a)t.setMany(e)},destroy(){s||t.destroy();for(const e of a)e.destroy()}}}const L={prevent:(e,t)=>(t.preventDefault&&t.preventDefault(),!0),stop:(e,t)=>(t.stopPropagation&&t.stopPropagation(),!0),self:(e,t)=>t.target===e};function T(e,t){const n=e.indexOf(t),i=n>=0;return i&&e.splice(n,1),i}function M(e,t){const n=function(e){const t=N[e],n=(r=e,r.replace(/([A-Z])/g,e=>"-"+e.toLowerCase()));var r;if(!t)return{property:!1,attribute:n,tags:!0,stringify:!1};return{property:Object(i.isArray)(t)?e:t.property||e,attribute:Object(i.isArray)(t)?n:t.attribute||n,tags:Object(i.isArray)(t)?t:t.tags||!0,stringify:!Object(i.isArray)(t)&&(t.stringify||!1)}}(t),{tags:r,property:s,attribute:o,stringify:a}=n,c="style"===o.toLowerCase(),u=!0!==r&&(0===r.length||r.includes(e.toLowerCase()));return s&&u?(e,t)=>{null==t||""===t?e.removeAttribute(o):e[s]=a?_(t,c):t}:(e,t)=>{null==t||!1===t||""===t?e.removeAttribute(o):e.setAttribute(o,_(t,c))}}const N={abbr:["th"],accept:["input"],acceptCharset:["form"],accessKey:[],action:["form"],allow:["iframe"],allowdirs:["input"],allowfullscreen:["iframe"],allowPaymentRequest:["iframe"],as:["link"],async:["script"],autocapitalize:["textarea"],autocomplete:["form","input","textarea"],autofocus:["button","input","select","textarea"],autoplay:["audio","media"],alt:["area","img"],caption:["table"],class:{property:"className",stringify:!0},className:[],charset:["script"],cite:["blockquote","q","cite"],contentEditable:[],coords:["area"],color:["basefont"],cols:["textarea"],colSpan:{tags:["th","td"],attribute:"colspan"},content:["meta"],controls:["audio","media"],crossOrigin:{tags:["img","link","audio","media"],attribute:"crossorigin"},csp:["iframe"],currentTime:["audio","media"],data:["object"],decoding:["img"],default:["track"],defaultMuted:["audio","media"],defaultPlaybackRate:["audio","media"],defaultSelected:["option"],defaultValue:["input","output","textarea"],defer:["script"],dirName:{tags:["input"],attribute:"dirname"},dir:[],disabled:["button","fieldset","input","link","optgroup","option","select","style","textarea"],disableRemotePlayback:["audio","media"],download:["a","area"],draggable:[],encoding:["form"],enctype:["form"],face:["basefont"],files:["input"],for:{property:"htmlFor",tags:["label"]},form:["input"],formAction:{tags:["button","input"],attribute:"formaction"},formEnctype:{tags:["button","input"],attribute:"formenctype"},formMethod:{tags:["button","input"],attribute:"formmethod"},formNoValidate:{tags:["button","input"],attribute:"formnovalidate"},formTarget:{tags:["button","input"],attribute:"formtarget"},hash:["a","area"],height:["canvas","embed","iframe","img","object","video"],hidden:[],host:["a","area"],hostname:["a","area"],href:["a","area","base","link"],hreflang:["a","area","link"],httpEquiv:["meta"],id:[],inert:[],innerHTML:[],innerText:[],isMap:{tags:["img"],attribute:"ismap"},label:["optgroup","track"],lang:[],length:["select"],loading:["img"],loop:["audio","media"],kind:["track"],max:["input","progress"],maxLength:{tags:["input","textarea"],attribute:"maxlength"},media:["a","area","link","source","style"],mediaGroup:{tags:["audio","media"],attribute:"mediagroup"},menu:["button"],method:["form"],min:["input"],minLength:{tags:["input","textarea"],attribute:"minlength"},multiple:["input","select"],muted:["audio","media"],name:["button","fieldset","form","iframe","input","map","meta","object","output","param","select","textarea"],noValidate:{tags:["form"],attribute:"novalidate"},noModule:["script"],open:["dialog"],outerHTML:[],password:["a","area"],pathname:["a","area"],pattern:["input"],placeholder:["input","textarea"],playbackRate:["audio","media"],port:["a","area"],poster:["video"],protocol:["a","area"],readOnly:{tags:["input","textarea"],attribute:"readonly"},referrerPolicy:{tags:["iframe","img","link","script"],attribute:"referrerpolicy"},rel:["a","area","link"],returnValue:["dialog"],required:["input","select","textarea"],reversed:["ol"],rows:["textarea"],rowSpan:{tags:["td","th"],attribute:"rowspan"},scrollTop:[],sandbox:["iframe"],scope:["th"],search:["area"],select:["content"],selected:["option"],selectedIndex:["select"],selectionStart:["input","textarea"],selectionEnd:["input","textarea"],selectionDirection:["input","textarea"],shape:["area"],size:["basefont","input","select"],sizes:["img"],src:["embed","iframe","img","media","audio","script","source","track"],srcset:["img"],srcdoc:["iframe"],srclang:["track"],span:["col","colgroup"],start:["ol"],step:["input"],style:{tags:[],stringify:!0},tabIndex:{tags:[],attribute:"tabindex"},target:["a","area","base","form"],textContent:[],text:["a","option","script","title"],title:[],type:["a","area","button","embed","input","link","ol","object","script","source","style"],typeMustMatch:{tags:["object"],attribute:"typemustmatch"},useMap:{tags:["img","object"],attribute:"usemap"},username:["a","area"],volume:["audio","media"],validationMessage:["fieldset"],validity:["fieldset","input"],value:["button","data","input","li","option","output","param","progress","select","textarea"],width:["canvas","embed","iframe","img","object","video"],wrap:["textarea"]};function _(e,t=!1){if(Object(i.isArray)(e))return e.map(e=>_(e)).filter(e=>Boolean(e)).join(t?"; ":" ");if(Object(i.isObject)(e)){const n=[];for(const i in e)(e[i]||t&&0===e[i])&&n.push(t?i+": "+_(e[i]):i);return n.join(t?"; ":" ")}return null==e||!1===e?"":String(e)}const P=(e,t,n,r)=>{const[s,o,,a]=e,c=s.substring(1),u=[document.createComment(c)],l=u.slice(),d={parent:r,component:t,scope:n,elements:l},p=n.createChild();if(!(o&&o.cases&&o.value))throw new Error(`The ${s} directive requires a cases and value attribute.`);{const e=o.mode||"detach",r=i.defs.getExpression(o.value),s=i.Exprs.switch(r,o.isEqual||i.AnyOps.isEqual);for(const e in o.cases)s.case(o.cases[e]).than(e);let c,l;s.default("default"),n.watch(s,n=>{const i=k(a,n);if(0===i.length)switch(p.setEnabled(!1),e){case"detach":R(d.elements,u);break;case"destroy":l&&(l.destroy(),l=void 0),R(d.elements,u);break;case"hide":if(l){const e=d.elements.slice();for(let t=0;t<e.length;t++){const n=e[t];C(n)?n.style.display="none":e[t]=document.createComment("")}R(d.elements,e)}}else{if(n!==c||"destroy"===e){l&&(l.destroy(),l=void 0);const e=I(i,p,t,d,!0);R(d.elements,e.elements),l=e,c=n}else if("detach"===e)R(d.elements,l.elements);else{const e=d.elements.slice();for(let t=0;t<e.length;t++){const n=e[t];C(n)?n.style.display="":e[t]=l.elements[t]}R(d.elements,e)}p.setEnabled(!0)}},!0,!0)}return d};const $={"*":(e,t,n,r)=>{const[s,o,a,c]=e,u=document.createElement(s),l={elements:[u],component:t,scope:n,parent:r};if(Object(i.isObject)(o))for(const e in o){const t=o[e],i=M(s,e);y.isWatchable(t)?n.watch(t,e=>{i(u,e)}):i(u,t)}if(Object(i.isObject)(a))for(const e in a){const t=e.split("."),r=t.shift(),s=a[r],o={once:T(t,"once"),passive:T(t,"passive"),capture:T(t,"capture")},c=Object(i.isFunction)(s)?s:n.eval(s,["nativeEvent","stop","prevent"]);u.addEventListener(r,e=>{for(const n of t)if(n in L&&!L[n](u,e))return;const n={nativeEvent:e,stop:!1,prevent:!1};if(!1===c(n))return!1;for(const t in n)if(n[t]&&t in L&&!L[t](u,e))return},o)}const d=k(c);if(d.length>0){const e=I(d,n,t,l);for(const t of e.elements)u.appendChild(t)}return l},":dynamic":(e,t,n,i)=>{const[r]=e,s={parent:i,component:t,scope:n,elements:[document.createComment("dynamic")]};let o;return n.watch(r,r=>{e[0]=r,o&&o.destroy(),o=n.createChild();const a=w(e,t,o,i);R(s.elements,a.elements)},!0,!0),s},":component":(e,t,n,r)=>{const[s,o,a,c]=e,u=O[s],l=new y(null,{emit:{},refs:{}}),d=new j(u,o,l,A(c)?c:void 0,t,n),p=null==o?void 0:o.ref;if(p&&delete o.ref,u.attributes)for(const e in u.attributes){const t=d.getAttributeOptions(e);if(!t||t.callable)continue;const i=o&&e in o?o[e]:t.default;if(y.isWatchable(i)){let r=!0;n.watch(i,n=>{l.set(e,n,!0),r&&t.initial?t.initial(n,d):!r&&t.changed&&t.changed(n,d),t.update&&t.update(n,d),!r&&u.updated&&u.updated(d),r=!1})}else l.set(e,i,!0)}if(u.state)for(const e in u.state){const t=u.state[e];l.set(e,l.evalNow(t),!0)}if(u.computed)for(const e in u.computed){const t=u.computed[e];l.watch(t,t=>{l.set(e,t,!0)})}if(Object(i.isObject)(a)&&u.events)for(const e in a){if(!(e in u.events))continue;const t=a[e];if(y.isWatchable(t)){const i=Object.keys(u.events[e].options.props),r=n.eval(t,i);d.on(e,r)}}const f=w(u.render(d),d,l,r);return d.node=f,u.created&&u.created(d),p&&t&&(t.scope.observed.refs[p]=l.observed),f},":if":([e,t,n,i],r,s,o)=>P([e,Object.assign({value:!0},t),n,i],r,s,o),":slot":(e,t,n,i)=>{const[,r,,s]=e,o={parent:i,component:t,scope:n,elements:[document.createComment("slot")]};if(r){const e=r.name||"default",i=r.slotIndex&&n.evalNow(r.slotIndex)||0,a=k(t.slots,e,i),c=a.length>0,u=c?a:k(s,e,i),l=c?t.outerScope.createChild():n.createChild();if(r.slotIndex){const n=t.getSlotOptions(e),r=n&&n.arrayIndexAlias||"slotIndex";l.set(r,i)}if(r.scope)for(const e in r.scope){const t=r.scope[e];y.isWatchable(t)?n.watch(t,t=>{l.set(e,t,!0)}):l.set(e,t,!0)}if(u){const e=I(u,l,t,o);o.elements=e.elements}}return o},":for":(e,t,n,r)=>{const[,s,,o]=e,a=document.createComment("for"),c={parent:r,component:t,scope:n,elements:[a]},u=k(o);if(s&&s.items){const e=s.item||"item",r=s.index||"index",o=s.key||i.Exprs.get(r),l=n.eval(o,[e,r]),d=new Map;n.watch(s.items,s=>{const o=[a],p=new Set;!function(e,t){if(Object(i.isArray)(e))for(let n=0;n<e.length;n++)t(e[n],n);else if(Object(i.isSet)(e)){let n=0;for(const i of e)t(i,n++)}else if(Object(i.isMap)(e))for(const[n,i]of e.entries())t(i,n);else if(Object(i.isObject)(e))for(const n in e)t(e[n],e);else if(Object(i.isNumber)(e))for(let n=0;n<e;n++)t(n,n)}(s,(i,s)=>{const a={[e]:i,[r]:s},f=l(a);let h=d.get(f);if(h)h.updateScopes(a);else{const e=n.createChild(a);h=I(u,e,t,c),d.set(f,h)}p.add(f),o.push(...h.elements)}),R(c.elements,o),d.forEach((e,t)=>{p.has(t)||(e.destroy(),d.delete(t))})})}return c},":switch":P};function q(e,t,n="detach"){return F([[e,t]],void 0,n)}function D(e,t,n,i="detach"){return F([[e,t]],n,i)}function F(e,t,n="detach"){return[":if",{mode:n,cases:e.reduce((e,[t],n)=>(e[n]=t,e),{})},{},Object.assign(Object.assign({},e.reduce((e,[,t],n)=>(e[n]=t,e),{})),{default:t})]}function V(e,t){return F([[e,t]],void 0,"hide")}function W(e,t){return F([[i.Exprs.not(e),t]],void 0,"hide")}function H(e,t,n,i){return[":switch",{value:e,cases:t.reduce((e,[t],n)=>(e[n]=t,e),{}),isEqual:i},{},Object.assign(Object.assign({},t.reduce((e,[,t],n)=>(e[n]=t,e),{})),{default:n})]}function z(e,t={},n={},i={}){return[`${e.collection}/${e.name}`,t,n,i]}function G(e,t,n={}){return[":for",Object.assign({items:e},n),{},t]}function B(e={},t=[]){return[":slot",e,{},t]}n.d(t,"DEFAULT_SLOT",(function(){return"default"})),n.d(t,"COMPILER_DEFAULT",(function(){return"*"})),n.d(t,"COMPILER_DYNAMIC",(function(){return":dynamic"})),n.d(t,"COMPILER_COMPONENT",(function(){return":component"})),n.d(t,"DIRECTIVE_IF",(function(){return":if"})),n.d(t,"DIRECTIVE_SWITCH",(function(){return":switch"})),n.d(t,"DIRECTIVE_FOR",(function(){return":for"})),n.d(t,"DIRECTIVE_SLOT",(function(){return":slot"})),n.d(t,"compilers",(function(){return $})),n.d(t,"getCompiler",(function(){return E})),n.d(t,"compile",(function(){return w})),n.d(t,"mount",(function(){return S})),n.d(t,"createIf",(function(){return q})),n.d(t,"createIfElse",(function(){return D})),n.d(t,"createIfs",(function(){return F})),n.d(t,"createShow",(function(){return V})),n.d(t,"createHide",(function(){return W})),n.d(t,"createSwitch",(function(){return H})),n.d(t,"createComponent",(function(){return z})),n.d(t,"createFor",(function(){return G})),n.d(t,"createSlot",(function(){return B})),n.d(t,"isStyleElement",(function(){return C})),n.d(t,"getSlots",(function(){return k})),n.d(t,"isNamedSlots",(function(){return A})),n.d(t,"changeElements",(function(){return R})),n.d(t,"createChildNodes",(function(){return I})),n.d(t,"Scope",(function(){return y})),n.d(t,"ComponentInstance",(function(){return j})),n.d(t,"addComponent",(function(){return x})),n.d(t,"ComponentRegistry",(function(){return O}))}])}));
//# sourceMappingURL=expangine-ui.js.map