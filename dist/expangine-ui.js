!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("expangine-runtime"),require("expangine-runtime-live")):"function"==typeof define&&define.amd?define(["expangine-runtime","expangine-runtime-live"],t):"object"==typeof exports?exports["expangine-ui"]=t(require("expangine-runtime"),require("expangine-runtime-live")):e["expangine-ui"]=t(e["expangine-runtime"],e["expangine-runtime-live"])}(self,(function(e,t){return(()=>{"use strict";var n={668:(e,t,n)=>{n.r(t),n.d(t,{COMPILER_COMPONENT:()=>o,COMPILER_DEFAULT:()=>s,COMPILER_DYNAMIC:()=>r,ComponentInstance:()=>L,ComponentRegistry:()=>A,DEFAULT_SLOT:()=>i,DIRECTIVE_FOR:()=>u,DIRECTIVE_IF:()=>a,DIRECTIVE_SLOT:()=>l,DIRECTIVE_SWITCH:()=>c,Scope:()=>k,addComponent:()=>R,changeElements:()=>_,compile:()=>M,compilers:()=>U,createChildNodes:()=>F,createComponent:()=>ee,createFor:()=>te,createHide:()=>J,createIf:()=>K,createIfElse:()=>X,createIfs:()=>Y,createShow:()=>Z,createSlot:()=>ne,createSwitch:()=>Q,extendComponent:()=>I,getCompiler:()=>T,getCompilerName:()=>N,getSlots:()=>$,isNamedSlots:()=>D,isStyleElement:()=>q,mount:()=>P});const i="default",s="*",r=":dynamic",o=":component",a=":if",c=":switch",u=":for",l=":slot";var p=n(476),d=n(538),h="$obs",f={pop:1,push:1,shift:1,unshift:1,reverse:1,splice:1,sort:1},m={concat:1,every:1,fill:1,filter:1,find:1,findIndex:1,forEach:1,includes:1,indexOf:1,join:1,lastIndexOf:1,map:1,reduce:1,reduceRight:1,slice:1,some:1},b=function(){function e(e){this.value=e,this.next=this.prev=this}return e.prototype.forEach=function(e){for(var t=this.next,n=0;t!==this;){var i=t.next;e(t.value,t,n),t=i,n++}return n},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},e.prototype.insertAfter=function(e){this.next=e.next,this.prev=e,this.prev.next=this.next.prev=this},e.prototype.push=function(e){e.insertAfter(this.prev)},e.prototype.remove=function(){this.isEmpty()||(this.next.prev=this.prev,this.prev.next=this.next,this.prev=this.next=this)},e.prototype.isEmpty=function(){return this.next===this},e.head=function(){return new e(null)},e}(),g=function(){function e(e){this.observer=e,this.links=b.head()}return e.prototype.notify=function(e){void 0===e&&(e=!1);var t=!1;return this.links.toArray().forEach((function(e){e.watcher.notify(),t=t||e.watcher.deep})),e&&t&&this.observer.parent&&this.observer.parent.notify(e),t},e.prototype.destroy=function(){this.links.forEach((function(e){return e.remove()}))},e}(),v=[],y=function(){function e(e,t,n,i){void 0===t&&(t=!0),void 0===n&&(n=!1),this.expression=e,this.immediate=t,this.deep=n,this.onResult=i,this.dirty=!1,this.paused=!1,this.evaluating=!1,this.links=b.head()}return e.prototype.isWatching=function(){return!this.links.isEmpty()},e.prototype.notify=function(){this.evaluating||(this.dirty=!0,this.immediate&&this.update())},e.prototype.update=function(){this.evaluating=!0,this.off(),v.push(this);try{this.result=this.expression(this)}finally{if(v.pop(),this.dirty=!1,this.onResult)try{this.onResult(this)}finally{this.evaluating=!1}this.evaluating=!1}},e.prototype.off=function(){this.links.forEach((function(e){return e.remove()}))},e.prototype.pause=function(){this.paused||(this.off(),this.paused=!0)},e.prototype.resume=function(){this.paused&&(this.update(),this.paused=!1)},e}(),x=function(){function e(e,t){this.watcher=e,this.dependency=t,this.watcherNode=new b(this),this.dependencyNode=new b(this)}return e.prototype.remove=function(){this.watcherNode.remove(),this.dependencyNode.remove()},e.create=function(t,n){var i=null;return n.links.forEach((function(e){return i=e.watcher===t?e:i})),i||(i=new e(t,n),n.links.push(i.dependencyNode),t.links.push(i.watcherNode)),i},e}(),E={get:function(e,t,n){var i=e[t];if(t===h)return i;var s=e.$obs;if("function"==typeof i){if(e instanceof Array){if(t in f)return function(e,t,n){return function(){for(var i=e.slice(),s=t.apply(e,arguments),r=Math.max(i.length,e.length),o=!1,a=0;a<r;a++)i[a]!==e[a]&&(o=o||n.notify(a)),a>=e.length&&n.remove(a);return e.length!==i.length&&(o=o||n.notify("length")),o&&n.parent&&n.parent.notify(!0),s}}(e,i,s);if(t in m)return function(e,t,n){return function(){for(var i=e.length,s=0;s<i;s++)w(e,s,e[s],n);return w(e,"length",e.length,n),t.apply(e,arguments)}}(e,i,s)}return i}return w(e,t,i,s)},set:function(e,t,n,i){return n!==e[t]&&(e[t]=n,e.$obs.notify(t,!0)),!0},deleteProperty:function(e,t){return e.$obs.remove(t),!0}};function w(e,t,n,i){var s=i.dep(t);return v.forEach((function(e){return x.create(e,s)})),j(n)&&!C(n)&&(e[t]=n=O(n,{parent:s})),n}function O(e,t){var n=(void 0===t?{}:t).parent,i=void 0===n?null:n;if(j(e)&&!e.$obs){var s=Proxy.revocable(e,E);e=s.proxy,Object.defineProperty(e,h,{value:new S(s.revoke,i),writable:!1,configurable:!0,enumerable:!1})}return e}function j(e){return!("object"!=typeof e||null===e)}function C(e){return!("object"!=typeof e||null===e||!e.$obs)}var S=function(){function e(e,t){void 0===t&&(t=null),this.revoke=e,this.parent=t,this.deps=Object.create(null)}return e.prototype.dep=function(e){var t=this.deps[e];return t||(this.deps[e]=t=new g(this)),t},e.prototype.notify=function(e,t){void 0===t&&(t=!1);var n=this.deps;return e in n?n[e].notify(t):(t&&this.parent&&this.parent.notify(t),!1)},e.prototype.remove=function(e){var t=this.deps;e in t&&(t[e].destroy(),delete t[e])},e.prototype.destroy=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var i=this.deps;for(var s in i)if(i[s].destroy(),delete i[s],t){var r=e[s];C(r)&&r.$obs.destroy(r,t,n)}n&&this.revoke()},e}();class k{constructor(e=null,t=Object.create(null)){this.parent=e,this.observed=O(t),this.disables=0,this.link=new b(this),this.watchers=b.head()}createChild(e={},t=!0){const n=new k(this,e);return t&&(this.children||(this.children=b.head()),this.children.push(n.link)),n}get(e,t,n=!1){return e in this.observed?this.observed[e]:this.parent&&!n?this.parent.get(e,t):t}has(e,t=!1){return e in this.observed||!(!this.parent||t)&&this.parent.has(e)}set(e,t,n=!1){return!(!(e in this.observed)&&!n&&this.parent&&this.parent.set(e,t)||(this.observed[e]=t,0))}remove(e){e in this.observed?delete this.observed[e]:this.parent&&this.parent.remove(e)}setMany(e){for(const t in e)this.set(t,e[t])}watch(e,t,n=!0,i=!1,s=!1){const r=d.LiveRuntime.defs.getExpression(e),o=d.LiveRuntime.getCommand(r);if(!r.isDynamic())return t(o(this)),()=>{};let a,c=!0;const u=e=>{!n&&c||!c&&i&&p.DataTypes.equals(a,e)||t(e),a=i?p.DataTypes.copy(e):e,c=!1},l=function(e,t){var n=void 0===t?{}:t,i=n.immediate,s=n.deep,r=new y(e,void 0===i||i,void 0!==s&&s,n.onResult);return r.update(),r}((()=>{const e=o(this);s||u(e)}),{onResult:({result:e})=>{s&&u(e)}}),h=new b(l);return this.watchers.push(h),()=>{l.off(),h.remove()}}eval(e,t=[]){if(t.length>0){const n="$"+ ++k.extraCount,i=p.Exprs.const({}),s=p.Exprs.define(Object.assign({[n]:i},t.reduce(((e,t)=>(e[t]=p.Exprs.get(n,t),e)),{})),d.LiveRuntime.defs.getExpression(e)),r=d.LiveRuntime.eval(s);return e=>(i.value=e||{},r(this))}{const t=d.LiveRuntime.eval(e);return()=>t(this)}}evalNow(e){return this.eval(e)()}enable(){this.disables>0&&(this.disables--,0===this.disables&&this.watchers.forEach((e=>e.resume())),this.children&&this.children.forEach((e=>e.enable())))}disable(){0===this.disables&&this.watchers.forEach((e=>e.pause())),this.children&&this.children.forEach((e=>e.disable())),this.disables++}setEnabled(e){e?this.enable():this.disable()}destroy(){this.link.remove(),this.disables=Number.MAX_SAFE_INTEGER,this.watchers.forEach((e=>e.off())),this.children&&this.children.forEach((e=>e.destroy())),function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),C(e)){var i=e.$obs;delete e.$obs,i.destroy(e,t,n)}}(this.observed)}static register(){if(!this.registered){const{dataSet:e,dataGet:t,dataHas:n,dataRemove:i}=d.LiveRuntime;d.LiveRuntime.dataGet=(e,n)=>e instanceof k?e.get(n):t(e,n),d.LiveRuntime.dataSet=(t,n,i)=>t instanceof k?t.set(n,i):e(t,n,i),d.LiveRuntime.dataHas=(e,t)=>e instanceof k?e.has(t):n(e,t),d.LiveRuntime.dataRemove=(e,t)=>e instanceof k?e.remove(t):i(e,t),p.DataTypes.addCopier({priority:12,copy:e=>{if(e instanceof Event)return e}}),this.registered=!0}}static isWatchable(e){return d.LiveRuntime.defs.isExpression(e)}}k.extraCount=0,k.registered=!1,k.register();const A=Object.create(null);function R(e,t){return A[t||`${e.collection}/${e.name}`]=e,e}function I(e,t){return{collection:t.collection||e.collection,name:t.name||e.name,attributes:Object.assign(Object.assign({},e.attributes||{}),t.attributes||{}),state:Object.assign(Object.assign({},e.state||{}),t.state||{}),computed:Object.assign(Object.assign({},e.computed||{}),t.computed||{}),events:Object.assign(Object.assign({},e.events||{}),t.events||{}),slots:Object.assign(Object.assign({},e.slots||{}),t.slots||{}),render:t.render||e.render,created:t.created||e.created,updated:t.updated||e.updated,destroyed:t.destroyed||e.destroyed}}class L{constructor(e,t,n,i,s,r){this.component=e,this.attrs=t,this.scope=n,this.outerScope=r||n,this.slots=i,this.parent=s,this.cache=Object.create(null)}call(e,t){const n=this.getAttributeExpression(e);if(n){const e=p.Exprs.define();for(const n in t)e.with(n,p.defs.getExpression(t[n]));return e.run(p.defs.getExpression(n)),e}return p.Exprs.noop()}callable(e){const t=this.getAttributeOptions(e),n=this.getAttributeExpression(e);if(!t||!t.callable||!n)throw new Error(`The ${e} is not callable.`);const i=(0,p.isFunction)(t.callable)?t.callable({}):t.callable,s=Object.keys(i.options.props);return this.scope.eval(n,s)}trigger(e,t){this.scope.observed.emit[e]=t}on(e,t){return this.scope.watch(p.Exprs.get("emit",e),t,!1,!1,!0)}update(){this.component.updated&&this.node&&this.component.updated(this)}render(){this.cache=Object.create(null);const e=M(this.component.render(this),this,this.scope);_(this.node.elements,e.elements),this.node=e}destroy(){this.scope.destroy()}getAttributeOptions(e){var t;const n=null===(t=this.component.attributes)||void 0===t?void 0:t[e];return!!n&&(n instanceof p.Type?{type:n}:n)}getAttributeExpression(e){const t=this.getAttributeOptions(e);return this.attrs[e]||!!t&&t.default}getSlotArrayLength(e=i){const t=this.getSlotOptions(e);if(t&&t.arrayLength)return p.defs.getExpression(t.arrayLength);if(this.slots&&this.slots[e]&&(0,p.isObject)(this.slots[e])){const t=this.slots[e];let n;for(const e in t){const t=parseInt(e);(0,p.isNumber)(t)&&(void 0===n||t>n)&&(n=t)}if(void 0!==n)return p.Exprs.const(n+1)}return p.Exprs.const(0)}getSlotOptions(e="default"){if(this.component.slots){const n=this.component.slots[e];return t=n,(0,p.isObject)(t)&&t.scope instanceof p.Type?n:{scope:n}}var t;return!1}getSlotSize(e="default",t=0){return $(this.slots,e,t).length}hasSlot(e,t,n){return e in this.slots?t:n}whenSlot(e,t,n){return e in this.slots?n():t()}}function T(e){const[t]=e,n=N(t);return U[n]}function N(e){return(0,p.isString)(e)?e in U?e:e in A?o:s:r}function M(e,t,n,i){return T(e)(e,t,n,i)}function P(e,t,n){const i=new k(null,Object.assign(Object.assign({},e),{refs:{}})),s=new L({collection:"expangine",name:"mounted",attributes:{},events:{},slots:{},state:{},computed:{},render:()=>t},{},i),r=M(t,s,i);return n&&_([n],r.elements),s.node=r,s}function q(e){return!!e&&(0,p.isObject)(e.style)}function $(e,t=i,n=0){return e?(0,p.isArray)(e)?e:(0,p.isObject)(e)&&(0,p.isArray)(e[t])?e[t]:(0,p.isObject)(e)&&(0,p.isObject)(e[t])&&(0,p.isArray)(e[t][n])?e[t][n]:[]:[]}function D(e){return"object"==typeof e&&!Array.isArray(e)}function _(e,t){if(0===e.length)e.push(...t);else{const n=e[0].parentNode;if(n){const i=new Set(e);let s=e[0].previousSibling;for(let r=0;r<t.length;r++){const o=t[r],a=s?s.nextSibling:e[r];i.delete(o),a!==o&&(a?n.insertBefore(o,a):!s&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),s=o}for(const e of i)n.removeChild(e)}e.splice(0,e.length,...t)}}function F(e,t,n,i,s=!1){const r=[],o=[];for(const s of e)if((0,p.isString)(s))r.push(document.createTextNode(s));else if(k.isWatchable(s)){const e=document.createTextNode("");t.watch(s,(t=>{e.textContent=t})),r.push(e)}else{const e=M(s,n,t,i);for(const t of e.elements)r.push(t);e.scope!==t&&o.push(e.scope),i.children?i.children.push(e):i.children=[e]}return{elements:r,updateScopes(e){t.setMany(e);for(const t of o)t.setMany(e)},destroy(){s||t.destroy();for(const e of o)e.destroy()}}}const V={prevent:(e,t)=>(t.preventDefault&&t.preventDefault(),!0),stop:(e,t)=>(t.stopPropagation&&t.stopPropagation(),!0),self:(e,t)=>t.target===e};function W(e,t){const n=e.indexOf(t),i=n>=0;return i&&e.splice(n,1),i}function H(e,t){const n=t.split("_"),i=function(e){const t=z[e],n=e.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase()));return t?{property:(0,p.isArray)(t)?e:t.property||e,attribute:(0,p.isArray)(t)?n:t.attribute||n,tags:(0,p.isArray)(t)?t:t.tags||!0,stringify:!(0,p.isArray)(t)&&(t.stringify||!1)}:{property:!1,attribute:n,tags:!0,stringify:!1}}(n[0]),{tags:s,property:r,attribute:o,stringify:a}=i,c="style"===o.toLowerCase(),u=!0!==s&&(0===s.length||s.includes(e.toLowerCase()));return r&&u?n.length>1?(e,t)=>{const i=n.length-1;let s=e;for(let e=0;e<i;e++){const t=n[e];s[t]||(s[t]={}),s=s[t]}null==t?delete s[n[i]]:s[n[i]]=t}:(e,t)=>{null==t||""===t?e.removeAttribute(o):e[r]=a?B(t,c):t}:(e,t)=>{const n=B(t,c);""===n?e.removeAttribute(o):e.setAttribute(o,n)}}const z={abbr:["th"],accept:["input"],acceptCharset:["form"],accessKey:[],action:["form"],allow:["iframe"],allowdirs:["input"],allowfullscreen:["iframe"],allowPaymentRequest:["iframe"],as:["link"],async:["script"],autocapitalize:["textarea"],autocomplete:["form","input","textarea"],autofocus:["button","input","select","textarea"],autoplay:["audio","media"],alt:["area","img"],caption:["table"],class:{property:"className",stringify:!0},className:[],charset:["script"],cite:["blockquote","q","cite"],contentEditable:[],coords:["area"],color:["basefont"],cols:["textarea"],colSpan:{tags:["th","td"],attribute:"colspan"},content:["meta"],controls:["audio","media"],crossOrigin:{tags:["img","link","audio","media"],attribute:"crossorigin"},csp:["iframe"],currentTime:["audio","media"],data:["object"],dataset:[],decoding:["img"],default:["track"],defaultMuted:["audio","media"],defaultPlaybackRate:["audio","media"],defaultSelected:["option"],defaultValue:["input","output","textarea"],defer:["script"],dirName:{tags:["input"],attribute:"dirname"},dir:[],disabled:["button","fieldset","input","link","optgroup","option","select","style","textarea"],disableRemotePlayback:["audio","media"],download:["a","area"],draggable:[],encoding:["form"],enctype:["form"],face:["basefont"],files:["input"],for:{property:"htmlFor",tags:["label"]},form:["input"],formAction:{tags:["button","input"],attribute:"formaction"},formEnctype:{tags:["button","input"],attribute:"formenctype"},formMethod:{tags:["button","input"],attribute:"formmethod"},formNoValidate:{tags:["button","input"],attribute:"formnovalidate"},formTarget:{tags:["button","input"],attribute:"formtarget"},hash:["a","area"],height:["canvas","embed","iframe","img","object","video"],hidden:[],host:["a","area"],hostname:["a","area"],href:["a","area","base","link"],hreflang:["a","area","link"],httpEquiv:["meta"],id:[],inert:[],innerHTML:[],innerText:[],isMap:{tags:["img"],attribute:"ismap"},label:["optgroup","track"],lang:[],length:["select"],loading:["img"],loop:["audio","media"],kind:["track"],max:["input","progress"],maxLength:{tags:["input","textarea"],attribute:"maxlength"},media:["a","area","link","source","style"],mediaGroup:{tags:["audio","media"],attribute:"mediagroup"},menu:["button"],method:["form"],min:["input"],minLength:{tags:["input","textarea"],attribute:"minlength"},multiple:["input","select"],muted:["audio","media"],name:["button","fieldset","form","iframe","input","map","meta","object","output","param","select","textarea"],noValidate:{tags:["form"],attribute:"novalidate"},noModule:["script"],open:["dialog"],outerHTML:[],password:["a","area"],pathname:["a","area"],pattern:["input"],placeholder:["input","textarea"],playbackRate:["audio","media"],port:["a","area"],poster:["video"],protocol:["a","area"],readOnly:{tags:["input","textarea"],attribute:"readonly"},referrerPolicy:{tags:["iframe","img","link","script"],attribute:"referrerpolicy"},rel:["a","area","link"],returnValue:["dialog"],required:["input","select","textarea"],reversed:["ol"],rows:["textarea"],rowSpan:{tags:["td","th"],attribute:"rowspan"},scrollTop:[],sandbox:["iframe"],scope:["th"],search:["area"],select:["content"],selected:["option"],selectedIndex:["select"],selectionStart:["input","textarea"],selectionEnd:["input","textarea"],selectionDirection:["input","textarea"],shape:["area"],size:["basefont","input","select"],sizes:["img"],src:["embed","iframe","img","media","audio","script","source","track"],srcset:["img"],srcdoc:["iframe"],srclang:["track"],span:["col","colgroup"],start:["ol"],step:["input"],style:{tags:[],stringify:!0},tabIndex:{tags:[],attribute:"tabindex"},target:["a","area","base","form"],textContent:[],text:["a","option","script","title"],title:[],type:["a","area","button","embed","input","link","ol","object","script","source","style"],typeMustMatch:{tags:["object"],attribute:"typemustmatch"},useMap:{tags:["img","object"],attribute:"usemap"},username:["a","area"],volume:["audio","media"],validationMessage:["fieldset"],validity:["fieldset","input"],value:["button","data","input","li","option","output","param","progress","select","textarea"],width:["canvas","embed","iframe","img","object","video"],wrap:["textarea"]};function B(e,t=!1){if((0,p.isArray)(e))return e.map((e=>B(e))).filter((e=>Boolean(e))).join(t?"; ":" ");if((0,p.isObject)(e)){const n=[];for(const i in e)(e[i]||t&&0===e[i])&&n.push(t?i+": "+B(e[i]):i);return n.join(t?"; ":" ")}return null==e||!1===e?"":String(e)}const G=(e,t,n,s)=>{const[r,o,,a]=e,c=r.substring(1),u=[document.createComment(c)],l=u.slice(),d={parent:s,component:t,scope:n,elements:l},h=n.createChild();if(!(o&&o.cases&&o.value))throw new Error(`The ${r} directive requires a cases and value attribute.`);{const e=o.mode||"detach",s=p.defs.getExpression(o.value),r=p.Exprs.switch(s,o.isEqual||p.AnyOps.isEqual);for(const e in o.cases)r.case(o.cases[e]).than(e);let c,l;r.default(i),n.watch(r,(n=>{const i=$(a,n);if(0===i.length)switch(h.setEnabled(!1),e){case"detach":_(d.elements,u);break;case"destroy":l&&(l.destroy(),l=void 0),_(d.elements,u);break;case"hide":if(l){const e=d.elements.slice();for(let t=0;t<e.length;t++){const n=e[t];q(n)?n.style.display="none":e[t]=document.createComment("")}_(d.elements,e)}}else{if(n!==c||"destroy"===e){l&&(l.destroy(),l=void 0);const e=F(i,h,t,d,!0);_(d.elements,e.elements),l=e,c=n}else if("detach"===e)_(d.elements,l.elements);else{const e=d.elements.slice();for(let t=0;t<e.length;t++){const n=e[t];q(n)?n.style.display="":e[t]=l.elements[t]}_(d.elements,e)}h.setEnabled(!0)}}),!0,!0)}return d},U={[s]:(e,t,n,i)=>{const[s,r,o,a]=e,c=document.createElement(s),u={elements:[c],component:t,scope:n,parent:i};if((0,p.isObject)(r))for(const e in r){const t=r[e],i=H(s,e);k.isWatchable(t)?n.watch(t,(e=>{i(c,e)})):i(c,t)}if((0,p.isObject)(o))for(const e in o){const t=e.split("."),i=t.shift(),s=o[i],r={once:W(t,"once"),passive:W(t,"passive"),capture:W(t,"capture")},a=(0,p.isFunction)(s)?s:n.eval(s,["nativeEvent","stop","prevent"]);c.addEventListener(i,(e=>{for(const n of t)if(n in V&&!V[n](c,e))return;const i={nativeEvent:e,stop:!1,prevent:!1};if(!1===a(i,n))return!1;for(const t in i)if(i[t]&&t in V&&!V[t](c,e))return}),r)}const l=$(a);if(l.length>0){const e=F(l,n,t,u);for(const t of e.elements)c.appendChild(t)}return u},[r]:(e,t,n,i)=>{const[s]=e,r={parent:i,component:t,scope:n,elements:[document.createComment("dynamic")]};let o;return n.watch(s,(s=>{e[0]=s,o&&o.destroy(),o=n.createChild();const a=M(e,t,o,i);_(r.elements,a.elements)}),!0,!0),r},[o]:(e,t,n,i)=>{const[s,r,o,a]=e,c=A[s],u=new k(null,{emit:{},refs:{}}),l=new L(c,r,u,D(a)?a:void 0,t,n),d=null==r?void 0:r.ref;if(d&&delete r.ref,c.attributes)for(const e in c.attributes){const t=l.getAttributeOptions(e);if(!t||t.callable)continue;const i=r&&e in r?r[e]:t.default;if(k.isWatchable(i)){let s=!0;n.watch(i,(n=>{u.set(e,n,!0),s&&t.initial?t.initial(n,l):!s&&t.changed&&t.changed(n,l),t.update&&t.update(n,l),!s&&c.updated&&c.updated(l),s=!1}))}else u.set(e,i,!0)}if(c.state)for(const e in c.state){const t=c.state[e];u.set(e,u.evalNow(t),!0)}if(c.computed)for(const e in c.computed){const t=c.computed[e];u.watch(t,(t=>{u.set(e,t,!0)}))}if((0,p.isObject)(o)&&c.events)for(const e in o){if(!(e in c.events))continue;const t=o[e];if(k.isWatchable(t)){const i=c.events[e],s=(0,p.isFunction)(i)?i({}):i,r=Object.keys(s.options.props),o=n.eval(t,r);l.on(e,o)}}const h=M(c.render(l),l,u,i);return l.node=h,c.created&&c.created(l),d&&t&&(t.scope.observed.refs[d]=u.observed),h},[a]:([e,t,n,i],s,r,o)=>G([e,Object.assign({value:!0,isEqual:p.BooleanOps.isEqual},t),n,i],s,r,o),[l]:(e,t,n,s)=>{const[,r,,o]=e,a={parent:s,component:t,scope:n,elements:[document.createComment("slot")]};if(r){const e=r.name||i,s=r.slotIndex&&n.evalNow(r.slotIndex)||0,c=$(t.slots,e,s),u=c.length>0,l=u?c:$(o,e,s),p=u?t.outerScope.createChild():n.createChild();if(r.slotIndex){const n=t.getSlotOptions(e),i=n&&n.arrayIndexAlias||"slotIndex";p.set(i,s)}if(r.scope)for(const e in r.scope){const t=r.scope[e];k.isWatchable(t)?n.watch(t,(t=>{p.set(e,t,!0)})):p.set(e,t,!0)}if(l){const e=F(l,p,t,a);a.elements=e.elements}}return a},[u]:(e,t,n,i)=>{const[,s,,r]=e,o=document.createComment("for"),a={parent:i,component:t,scope:n,elements:[o]},c=$(r);if(s&&s.items){const e=s.item||"item",i=s.index||"index",r=s.key||p.Exprs.get(i),u=n.eval(r,[e,i]),l=new Map;n.watch(s.items,(s=>{const r=[],d=new Set;!function(e,t){if((0,p.isArray)(e))for(let n=0;n<e.length;n++)t(e[n],n);else if((0,p.isSet)(e)){let n=0;for(const i of e)t(i,n++)}else if((0,p.isMap)(e))for(const[n,i]of e.entries())t(i,n);else if((0,p.isObject)(e))for(const n in e)t(e[n],e);else if((0,p.isNumber)(e))for(let n=0;n<e;n++)t(n,n)}(s,((s,o)=>{const p={[e]:s,[i]:o},h=u(p);let f=l.get(h);if(f)f.updateScopes(p);else{const e=n.createChild(p);f=F(c,e,t,a),l.set(h,f)}d.add(h),r.push(...f.elements)})),0===r.length&&r.push(o),_(a.elements,r),l.forEach(((e,t)=>{d.has(t)||(e.destroy(),l.delete(t))}))}))}return a},[c]:G};function K(e,t,n="detach"){return Y([[e,t]],void 0,n)}function X(e,t,n,i="detach"){return Y([[e,t]],n,i)}function Y(e,t,n="detach"){return[a,{mode:n,cases:e.reduce(((e,[t],n)=>(e[n]=t,e)),{})},{},Object.assign(Object.assign({},e.reduce(((e,[,t],n)=>(e[n]=t,e)),{})),{default:t})]}function Z(e,t){return Y([[e,t]],void 0,"hide")}function J(e,t){return Y([[p.Exprs.not(e),t]],void 0,"hide")}function Q(e,t,n,i){return[c,{value:e,cases:t.reduce(((e,[t],n)=>(e[n]=t,e)),{}),isEqual:i},{},Object.assign(Object.assign({},t.reduce(((e,[,t],n)=>(e[n]=t,e)),{})),{default:n})]}function ee(e,t={},n={},i={}){return[`${e.collection}/${e.name}`,t,n,i]}function te(e,t,n={}){return[u,Object.assign({items:e},n),{},t]}function ne(e={},t=[]){return[l,e,{},t]}},476:t=>{t.exports=e},538:e=>{e.exports=t}},i={};function s(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return n[e](t,t.exports,s),t.exports}return s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(668)})()}));
//# sourceMappingURL=expangine-ui.js.map