!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("expangine-runtime"),require("expangine-runtime-live")):"function"==typeof define&&define.amd?define(["expangine-runtime","expangine-runtime-live"],e):"object"==typeof exports?exports["expangine-ui"]=e(require("expangine-runtime"),require("expangine-runtime-live")):t["expangine-ui"]=e(t["expangine-runtime"],t["expangine-runtime-live"])}(window,(function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(1),s={pop:1,push:1,shift:1,unshift:1,reverse:1,splice:1,sort:1},o={concat:1,every:1,fill:1,filter:1,find:1,findIndex:1,forEach:1,includes:1,indexOf:1,join:1,lastIndexOf:1,map:1,reduce:1,reduceRight:1,slice:1,some:1},a=function(){function t(t){this.value=t,this.next=this.prev=this}return t.prototype.forEach=function(t){for(var e=this.next,n=0;e!==this;){var i=e.next;t(e.value,e,n),e=i,n++}return n},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},t.prototype.insertAfter=function(t){this.next=t.next,this.prev=t,this.prev.next=this.next.prev=this},t.prototype.push=function(t){t.insertAfter(this.prev)},t.prototype.remove=function(){this.isEmpty()||(this.next.prev=this.prev,this.prev.next=this.next,this.prev=this.next=this)},t.prototype.isEmpty=function(){return this.next===this},t.head=function(){return new t(null)},t}(),c=function(){function t(t){this.observer=t,this.links=a.head()}return t.prototype.notify=function(t){void 0===t&&(t=!1);var e=!1;return this.links.toArray().forEach((function(t){t.watcher.notify(),e=e||t.watcher.deep})),t&&e&&this.observer.parent&&this.observer.parent.notify(t),e},t.prototype.destroy=function(){this.links.forEach((function(t){return t.remove()}))},t}(),u=[],l=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.expression=t,this.immediate=e,this.deep=n,this.dirty=!1,this.paused=!1,this.evaluating=!1,this.links=a.head()}return t.prototype.isWatching=function(){return!this.links.isEmpty()},t.prototype.notify=function(){this.evaluating||(this.dirty=!0,this.immediate&&this.update())},t.prototype.update=function(){this.evaluating=!0,this.off(),u.push(this);try{this.result=this.expression()}finally{if(u.pop(),this.dirty=!1,this.onResult)try{this.onResult()}finally{this.evaluating=!1}this.evaluating=!1}},t.prototype.off=function(){this.links.forEach((function(t){return t.remove()}))},t.prototype.pause=function(){this.paused||(this.off(),this.paused=!0)},t.prototype.resume=function(){this.paused&&(this.update(),this.paused=!1)},t}(),d=function(){function t(t,e){this.watcher=t,this.dependency=e,this.watcherNode=new a(this),this.dependencyNode=new a(this)}return t.prototype.remove=function(){this.watcherNode.remove(),this.dependencyNode.remove()},t.create=function(e,n){var i=null;return n.links.forEach((function(t){return i=t.watcher===e?t:i})),i||(i=new t(e,n),n.links.push(i.dependencyNode),e.links.push(i.watcherNode)),i},t}(),p={get:function(t,e,n){var i=t[e];if("$obs"===e)return i;var r=t.$obs;if("function"==typeof i){if(t instanceof Array){if(e in s)return function(t,e,n){return function(){for(var i=t.slice(),r=e.apply(t,arguments),s=Math.max(i.length,t.length),o=!1,a=0;a<s;a++)i[a]!==t[a]&&(o=o||n.notify(a)),a>=t.length&&n.remove(a);return t.length!==i.length&&(o=o||n.notify("length")),o&&n.parent&&n.parent.notify(!0),r}}(t,i,r);if(e in o)return function(t,e,n){return function(){for(var i=t.length,r=0;r<i;r++)f(t,r,t[r],n);return f(t,"length",t.length,n),e.apply(t,arguments)}}(t,i,r)}return i}return f(t,e,i,r)},set:function(t,e,n,i){n!==t[e]&&(t[e]=n,t.$obs.notify(e,!0));return!0},deleteProperty:function(t,e){return t.$obs.remove(e),!0}};function f(t,e,n,i){var r=i.dep(e);return u.forEach((function(t){return d.create(t,r)})),m(n)&&!b(n)&&(t[e]=n=h(n,{parent:r})),n}function h(t,e){var n=(void 0===e?{}:e).parent,i=void 0===n?null:n;if(m(t)&&!t.$obs){var r=Proxy.revocable(t,p);t=r.proxy,Object.defineProperty(t,"$obs",{value:new g(r.revoke,i),writable:!1,configurable:!0,enumerable:!1})}return t}function m(t){return!("object"!=typeof t||null===t)}function b(t){return!("object"!=typeof t||null===t||!t.$obs)}var g=function(){function t(t,e){void 0===e&&(e=null),this.revoke=t,this.parent=e,this.deps=Object.create(null)}return t.prototype.dep=function(t){var e=this.deps[t];return e||(this.deps[t]=e=new c(this)),e},t.prototype.notify=function(t,e){void 0===e&&(e=!1);var n=this.deps;return t in n?n[t].notify(e):(e&&this.parent&&this.parent.notify(e),!1)},t.prototype.remove=function(t){var e=this.deps;t in e&&(e[t].destroy(),delete e[t])},t.prototype.destroy=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);var i=this.deps;for(var r in i)if(i[r].destroy(),delete i[r],e){var s=t[r];if(b(s))s.$obs.destroy(s,e,n)}n&&this.revoke()},t}();function v(t,e){var n=void 0===e?{}:e,i=n.immediate,r=void 0===i||i,s=n.deep,o=new l(t,r,void 0!==s&&s);return o.update(),o}class y{constructor(t=null,e=Object.create(null)){this.parent=t,this.observed=h(e),this.disables=0,this.link=new a(this),this.watchers=a.head()}createChild(t={},e=!0){const n=new y(this,t);return e&&(this.children||(this.children=a.head()),this.children.push(n.link)),n}get(t,e,n=!1){return t in this.observed?this.observed[t]:this.parent&&!n?this.parent.get(t,e):e}has(t,e=!1){return t in this.observed||!(!this.parent||e)&&this.parent.has(t)}set(t,e,n=!1){return!(!(t in this.observed)&&!n&&this.parent&&this.parent.set(t,e))&&(this.observed[t]=e,!0)}remove(t){t in this.observed?delete this.observed[t]:this.parent&&this.parent.remove(t)}setMany(t){for(const e in t)this.set(e,t[e])}watch(t,e,n=!0,s=!1){const o=r.LiveRuntime.defs.getExpression(t),c=r.LiveRuntime.getCommand(o);if(!o.isDynamic())return e(c(this)),()=>{};let u,l=!0;const d=v(()=>{const t=c(this);!n&&l||!l&&s&&i.DataTypes.equals(u,t)||e(t),u=s?i.DataTypes.copy(t):t,l=!1}),p=new a(d);return this.watchers.push(p),()=>{d.off(),p.remove()}}eval(t,e=[]){if(e.length>0){const n="__extra__",s=i.Exprs.const({}),o=i.Exprs.define(Object.assign({[n]:s},e.reduce((t,e)=>(t[e]=i.Exprs.get(n,e),t),{})),r.LiveRuntime.defs.getExpression(t)),a=r.LiveRuntime.eval(o);return t=>(s.value=t||{},a(this))}{const e=r.LiveRuntime.eval(t);return()=>e(this)}}evalNow(t){return this.eval(t)()}enable(){this.disables>0&&(this.disables--,0===this.disables&&this.watchers.forEach(t=>t.resume()),this.children&&this.children.forEach(t=>t.enable()))}disable(){0===this.disables&&this.watchers.forEach(t=>t.pause()),this.children&&this.children.forEach(t=>t.disable()),this.disables++}setEnabled(t){t?this.enable():this.disable()}destroy(){this.link.remove(),this.disables=Number.MAX_SAFE_INTEGER,this.watchers.forEach(t=>t.off()),this.children&&this.children.forEach(t=>t.destroy()),function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),b(t)){var i=t.$obs;delete t.$obs,i.destroy(t,e,n)}}(this.observed)}static register(){if(!this.registered){const{dataSet:t,dataGet:e,dataHas:n,dataRemove:s}=r.LiveRuntime;r.LiveRuntime.dataGet=(t,n)=>t instanceof y?t.get(n):e(t,n),r.LiveRuntime.dataSet=(e,n,i)=>e instanceof y?e.set(n,i):t(e,n,i),r.LiveRuntime.dataHas=(t,e)=>t instanceof y?t.has(e):n(t,e),r.LiveRuntime.dataRemove=(t,e)=>t instanceof y?t.remove(e):s(t,e),i.DataTypes.addCopier({priority:12,copy:t=>{if(t instanceof Event)return t}}),this.registered=!0}}static isWatchable(t){return r.LiveRuntime.defs.isExpression(t)}}function x(t,e){return O[e||`${t.collection}/${t.name}`]=t,t}y.registered=!1,y.register();const O=Object.create(null);class j{constructor(t,e,n,i,r,s){this.component=t,this.attrs=e,this.scope=n,this.outerScope=s||n,this.slots=i,this.parent=r,this.cache=Object.create(null)}call(t,e){const n=this.getAttributeExpression(t);if(n){const t=i.Exprs.define();for(const n in e)t.with(n,i.defs.getExpression(e[n]));return t.run(i.defs.getExpression(n)),t}return i.Exprs.noop()}callable(t){const e=this.getAttributeOptions(t),n=this.getAttributeExpression(t);if(!e||!e.callable||!n)throw new Error(`The ${t} is not callable.`);const i=Object.keys(e.callable.options.props);return this.scope.eval(n,i)}trigger(t,e){this.scope.observed.emit[t]=e}on(t,e){return this.scope.watch(i.Exprs.get("emit",t),e,!1)}update(){this.component.updated&&this.node&&this.component.updated(this)}render(){this.cache=Object.create(null);const t=w(this.component.render(this),this,this.scope);R(this.node.elements,t.elements),this.node=t}destroy(){this.scope.destroy()}getAttributeOptions(t){var e;const n=null===(e=this.component.attributes)||void 0===e?void 0:e[t];return!!n&&(n instanceof i.Type?{type:n}:n)}getAttributeExpression(t){const e=this.getAttributeOptions(t);return this.attrs[t]||!!e&&e.default}getSlotArrayLength(t="default"){const e=this.getSlotOptions(t);if(e&&e.arrayLength)return i.defs.getExpression(e.arrayLength);if(this.slots&&this.slots[t]&&Object(i.isObject)(this.slots[t])){const e=this.slots[t];let n;for(const t in e){const e=parseInt(t);Object(i.isNumber)(e)&&(void 0===n||e>n)&&(n=e)}if(void 0!==n)return i.Exprs.const(n+1)}return i.Exprs.const(0)}getSlotOptions(t="default"){if(this.component.slots){const n=this.component.slots[t];return e=n,Object(i.isObject)(e)&&e.scope instanceof i.Type?n:{scope:n}}var e;return!1}getSlotSize(t="default",e=0){return k(this.slots,t,e).length}hasSlot(t,e,n){return t in this.slots?e:n}whenSlot(t,e,n){return t in this.slots?n():e()}}function E(t){const[e]=t,n=Object(i.isString)(e)?e in q?e:e in O?":component":"*":":dynamic";return q[n]}function w(t,e,n,i){return E(t)(t,e,n,i)}function S(t,e,n){const i=new y(null,Object.assign(Object.assign({},t),{refs:{}})),r=new j({collection:"expangine",name:"mounted",attributes:{},events:{},slots:{},state:{},computed:{},render:()=>e},{},i),s=w(e,r,i);return n&&R([n],s.elements),r.node=s,r}function C(t){return!!t&&Object(i.isObject)(t.style)}function k(t,e="default",n=0){return t?Object(i.isArray)(t)?t:Object(i.isObject)(t)&&Object(i.isArray)(t[e])?t[e]:Object(i.isObject)(t)&&Object(i.isObject)(t[e])&&Object(i.isArray)(t[e][n])?t[e][n]:[]:[]}function A(t){return"object"==typeof t&&!Array.isArray(t)}function R(t,e){if(0===t.length)t.push(...e);else{const n=t[0].parentNode;if(n){const i=new Set(t);let r=t[0].previousSibling;for(let s=0;s<e.length;s++){const o=e[s],a=r?r.nextSibling:t[s];i.delete(o),a!==o&&(a?n.insertBefore(o,a):!r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),r=o}for(const t of i)n.removeChild(t)}t.splice(0,t.length,...e)}}function I(t,e,n,r,s=!1){const o=[],a=[];for(const s of t)if(Object(i.isString)(s))o.push(document.createTextNode(s));else if(y.isWatchable(s)){const t=document.createTextNode("");e.watch(s,e=>{t.textContent=e}),o.push(t)}else{const t=w(s,n,e,r);for(const e of t.elements)o.push(e);t.scope!==e&&a.push(t.scope),r.children?r.children.push(t):r.children=[t]}return{elements:o,updateScopes(t){e.setMany(t);for(const e of a)e.setMany(t)},destroy(){s||e.destroy();for(const t of a)t.destroy()}}}const L={prevent:(t,e)=>(e.preventDefault&&e.preventDefault(),!0),stop:(t,e)=>(e.stopPropagation&&e.stopPropagation(),!0),self:(t,e)=>e.target===t};function T(t,e){const n=t.indexOf(e),i=n>=0;return i&&t.splice(n,1),i}function M(t,e){const n=e.split("_"),r=function(t){const e=N[t],n=(r=t,r.replace(/([A-Z])/g,t=>"-"+t.toLowerCase()));var r;if(!e)return{property:!1,attribute:n,tags:!0,stringify:!1};return{property:Object(i.isArray)(e)?t:e.property||t,attribute:Object(i.isArray)(e)?n:e.attribute||n,tags:Object(i.isArray)(e)?e:e.tags||!0,stringify:!Object(i.isArray)(e)&&(e.stringify||!1)}}(n[0]),{tags:s,property:o,attribute:a,stringify:c}=r,u="style"===a.toLowerCase(),l=!0!==s&&(0===s.length||s.includes(t.toLowerCase()));return o&&l?n.length>1?(t,e)=>{const i=n.length-1;let r=t;for(let t=0;t<i;t++){const e=n[t];r[e]||(r[e]={}),r=r[e]}null==e?delete r[n[i]]:r[n[i]]=e}:(t,e)=>{null==e||""===e?t.removeAttribute(a):t[o]=c?_(e,u):e}:(t,e)=>{const n=_(e,u);""===n?t.removeAttribute(a):t.setAttribute(a,n)}}const N={abbr:["th"],accept:["input"],acceptCharset:["form"],accessKey:[],action:["form"],allow:["iframe"],allowdirs:["input"],allowfullscreen:["iframe"],allowPaymentRequest:["iframe"],as:["link"],async:["script"],autocapitalize:["textarea"],autocomplete:["form","input","textarea"],autofocus:["button","input","select","textarea"],autoplay:["audio","media"],alt:["area","img"],caption:["table"],class:{property:"className",stringify:!0},className:[],charset:["script"],cite:["blockquote","q","cite"],contentEditable:[],coords:["area"],color:["basefont"],cols:["textarea"],colSpan:{tags:["th","td"],attribute:"colspan"},content:["meta"],controls:["audio","media"],crossOrigin:{tags:["img","link","audio","media"],attribute:"crossorigin"},csp:["iframe"],currentTime:["audio","media"],data:["object"],dataset:[],decoding:["img"],default:["track"],defaultMuted:["audio","media"],defaultPlaybackRate:["audio","media"],defaultSelected:["option"],defaultValue:["input","output","textarea"],defer:["script"],dirName:{tags:["input"],attribute:"dirname"},dir:[],disabled:["button","fieldset","input","link","optgroup","option","select","style","textarea"],disableRemotePlayback:["audio","media"],download:["a","area"],draggable:[],encoding:["form"],enctype:["form"],face:["basefont"],files:["input"],for:{property:"htmlFor",tags:["label"]},form:["input"],formAction:{tags:["button","input"],attribute:"formaction"},formEnctype:{tags:["button","input"],attribute:"formenctype"},formMethod:{tags:["button","input"],attribute:"formmethod"},formNoValidate:{tags:["button","input"],attribute:"formnovalidate"},formTarget:{tags:["button","input"],attribute:"formtarget"},hash:["a","area"],height:["canvas","embed","iframe","img","object","video"],hidden:[],host:["a","area"],hostname:["a","area"],href:["a","area","base","link"],hreflang:["a","area","link"],httpEquiv:["meta"],id:[],inert:[],innerHTML:[],innerText:[],isMap:{tags:["img"],attribute:"ismap"},label:["optgroup","track"],lang:[],length:["select"],loading:["img"],loop:["audio","media"],kind:["track"],max:["input","progress"],maxLength:{tags:["input","textarea"],attribute:"maxlength"},media:["a","area","link","source","style"],mediaGroup:{tags:["audio","media"],attribute:"mediagroup"},menu:["button"],method:["form"],min:["input"],minLength:{tags:["input","textarea"],attribute:"minlength"},multiple:["input","select"],muted:["audio","media"],name:["button","fieldset","form","iframe","input","map","meta","object","output","param","select","textarea"],noValidate:{tags:["form"],attribute:"novalidate"},noModule:["script"],open:["dialog"],outerHTML:[],password:["a","area"],pathname:["a","area"],pattern:["input"],placeholder:["input","textarea"],playbackRate:["audio","media"],port:["a","area"],poster:["video"],protocol:["a","area"],readOnly:{tags:["input","textarea"],attribute:"readonly"},referrerPolicy:{tags:["iframe","img","link","script"],attribute:"referrerpolicy"},rel:["a","area","link"],returnValue:["dialog"],required:["input","select","textarea"],reversed:["ol"],rows:["textarea"],rowSpan:{tags:["td","th"],attribute:"rowspan"},scrollTop:[],sandbox:["iframe"],scope:["th"],search:["area"],select:["content"],selected:["option"],selectedIndex:["select"],selectionStart:["input","textarea"],selectionEnd:["input","textarea"],selectionDirection:["input","textarea"],shape:["area"],size:["basefont","input","select"],sizes:["img"],src:["embed","iframe","img","media","audio","script","source","track"],srcset:["img"],srcdoc:["iframe"],srclang:["track"],span:["col","colgroup"],start:["ol"],step:["input"],style:{tags:[],stringify:!0},tabIndex:{tags:[],attribute:"tabindex"},target:["a","area","base","form"],textContent:[],text:["a","option","script","title"],title:[],type:["a","area","button","embed","input","link","ol","object","script","source","style"],typeMustMatch:{tags:["object"],attribute:"typemustmatch"},useMap:{tags:["img","object"],attribute:"usemap"},username:["a","area"],volume:["audio","media"],validationMessage:["fieldset"],validity:["fieldset","input"],value:["button","data","input","li","option","output","param","progress","select","textarea"],width:["canvas","embed","iframe","img","object","video"],wrap:["textarea"]};function _(t,e=!1){if(Object(i.isArray)(t))return t.map(t=>_(t)).filter(t=>Boolean(t)).join(e?"; ":" ");if(Object(i.isObject)(t)){const n=[];for(const i in t)(t[i]||e&&0===t[i])&&n.push(e?i+": "+_(t[i]):i);return n.join(e?"; ":" ")}return null==t||!1===t?"":String(t)}const P=(t,e,n,r)=>{const[s,o,,a]=t,c=s.substring(1),u=[document.createComment(c)],l=u.slice(),d={parent:r,component:e,scope:n,elements:l},p=n.createChild();if(!(o&&o.cases&&o.value))throw new Error(`The ${s} directive requires a cases and value attribute.`);{const t=o.mode||"detach",r=i.defs.getExpression(o.value),s=i.Exprs.switch(r,o.isEqual||i.AnyOps.isEqual);for(const t in o.cases)s.case(o.cases[t]).than(t);let c,l;s.default("default"),n.watch(s,n=>{const i=k(a,n);if(0===i.length)switch(p.setEnabled(!1),t){case"detach":R(d.elements,u);break;case"destroy":l&&(l.destroy(),l=void 0),R(d.elements,u);break;case"hide":if(l){const t=d.elements.slice();for(let e=0;e<t.length;e++){const n=t[e];C(n)?n.style.display="none":t[e]=document.createComment("")}R(d.elements,t)}}else{if(n!==c||"destroy"===t){l&&(l.destroy(),l=void 0);const t=I(i,p,e,d,!0);R(d.elements,t.elements),l=t,c=n}else if("detach"===t)R(d.elements,l.elements);else{const t=d.elements.slice();for(let e=0;e<t.length;e++){const n=t[e];C(n)?n.style.display="":t[e]=l.elements[e]}R(d.elements,t)}p.setEnabled(!0)}},!0,!0)}return d};const q={"*":(t,e,n,r)=>{const[s,o,a,c]=t,u=document.createElement(s),l={elements:[u],component:e,scope:n,parent:r};if(Object(i.isObject)(o))for(const t in o){const e=o[t],i=M(s,t);y.isWatchable(e)?n.watch(e,t=>{i(u,t)}):i(u,e)}if(Object(i.isObject)(a))for(const t in a){const e=t.split("."),r=e.shift(),s=a[r],o={once:T(e,"once"),passive:T(e,"passive"),capture:T(e,"capture")},c=Object(i.isFunction)(s)?s:n.eval(s,["nativeEvent","stop","prevent"]);u.addEventListener(r,t=>{for(const n of e)if(n in L&&!L[n](u,t))return;const n={nativeEvent:t,stop:!1,prevent:!1};if(!1===c(n))return!1;for(const e in n)if(n[e]&&e in L&&!L[e](u,t))return},o)}const d=k(c);if(d.length>0){const t=I(d,n,e,l);for(const e of t.elements)u.appendChild(e)}return l},":dynamic":(t,e,n,i)=>{const[r]=t,s={parent:i,component:e,scope:n,elements:[document.createComment("dynamic")]};let o;return n.watch(r,r=>{t[0]=r,o&&o.destroy(),o=n.createChild();const a=w(t,e,o,i);R(s.elements,a.elements)},!0,!0),s},":component":(t,e,n,r)=>{const[s,o,a,c]=t,u=O[s],l=new y(null,{emit:{},refs:{}}),d=new j(u,o,l,A(c)?c:void 0,e,n),p=null==o?void 0:o.ref,f={};if(p&&delete o.ref,u.attributes)for(const t in u.attributes){const e=d.getAttributeOptions(t);if(!e)continue;if(f[t]=Object(i.isFunction)(e.type)?e.type(f):e.type,e.callable)continue;const r=o&&t in o?o[t]:e.default;if(y.isWatchable(r)){let i=!0;n.watch(r,n=>{l.set(t,n,!0),i&&e.initial?e.initial(n,d):!i&&e.changed&&e.changed(n,d),e.update&&e.update(n,d),!i&&u.updated&&u.updated(d),i=!1})}else l.set(t,r,!0)}if(u.state)for(const t in u.state){const e=u.state[t];l.set(t,l.evalNow(e),!0)}if(u.computed)for(const t in u.computed){const e=u.computed[t];l.watch(e,e=>{l.set(t,e,!0)})}if(Object(i.isObject)(a)&&u.events)for(const t in a){if(!(t in u.events))continue;const e=a[t];if(y.isWatchable(e)){const r=u.events[t],s=Object(i.isFunction)(r)?r(f):r,o=Object.keys(s.options.props),a=n.eval(e,o);d.on(t,a)}}const h=w(u.render(d),d,l,r);return d.node=h,u.created&&u.created(d),p&&e&&(e.scope.observed.refs[p]=l.observed),h},":if":([t,e,n,r],s,o,a)=>P([t,Object.assign({value:!0,isEqual:i.BooleanOps.isEqual},e),n,r],s,o,a),":slot":(t,e,n,i)=>{const[,r,,s]=t,o={parent:i,component:e,scope:n,elements:[document.createComment("slot")]};if(r){const t=r.name||"default",i=r.slotIndex&&n.evalNow(r.slotIndex)||0,a=k(e.slots,t,i),c=a.length>0,u=c?a:k(s,t,i),l=c?e.outerScope.createChild():n.createChild();if(r.slotIndex){const n=e.getSlotOptions(t),r=n&&n.arrayIndexAlias||"slotIndex";l.set(r,i)}if(r.scope)for(const t in r.scope){const e=r.scope[t];y.isWatchable(e)?n.watch(e,e=>{l.set(t,e,!0)}):l.set(t,e,!0)}if(u){const t=I(u,l,e,o);o.elements=t.elements}}return o},":for":(t,e,n,r)=>{const[,s,,o]=t,a=document.createComment("for"),c={parent:r,component:e,scope:n,elements:[a]},u=k(o);if(s&&s.items){const t=s.item||"item",r=s.index||"index",o=s.key||i.Exprs.get(r),l=n.eval(o,[t,r]),d=new Map;n.watch(s.items,s=>{const o=[a],p=new Set;!function(t,e){if(Object(i.isArray)(t))for(let n=0;n<t.length;n++)e(t[n],n);else if(Object(i.isSet)(t)){let n=0;for(const i of t)e(i,n++)}else if(Object(i.isMap)(t))for(const[n,i]of t.entries())e(i,n);else if(Object(i.isObject)(t))for(const n in t)e(t[n],t);else if(Object(i.isNumber)(t))for(let n=0;n<t;n++)e(n,n)}(s,(i,s)=>{const a={[t]:i,[r]:s},f=l(a);let h=d.get(f);if(h)h.updateScopes(a);else{const t=n.createChild(a);h=I(u,t,e,c),d.set(f,h)}p.add(f),o.push(...h.elements)}),R(c.elements,o),d.forEach((t,e)=>{p.has(e)||(t.destroy(),d.delete(e))})})}return c},":switch":P};function $(t,e,n="detach"){return F([[t,e]],void 0,n)}function D(t,e,n,i="detach"){return F([[t,e]],n,i)}function F(t,e,n="detach"){return[":if",{mode:n,cases:t.reduce((t,[e],n)=>(t[n]=e,t),{})},{},Object.assign(Object.assign({},t.reduce((t,[,e],n)=>(t[n]=e,t),{})),{default:e})]}function V(t,e){return F([[t,e]],void 0,"hide")}function W(t,e){return F([[i.Exprs.not(t),e]],void 0,"hide")}function H(t,e,n,i){return[":switch",{value:t,cases:e.reduce((t,[e],n)=>(t[n]=e,t),{}),isEqual:i},{},Object.assign(Object.assign({},e.reduce((t,[,e],n)=>(t[n]=e,t),{})),{default:n})]}function z(t,e={},n={},i={}){return[`${t.collection}/${t.name}`,e,n,i]}function B(t,e,n={}){return[":for",Object.assign({items:t},n),{},e]}function G(t={},e=[]){return[":slot",t,{},e]}n.d(e,"DEFAULT_SLOT",(function(){return"default"})),n.d(e,"COMPILER_DEFAULT",(function(){return"*"})),n.d(e,"COMPILER_DYNAMIC",(function(){return":dynamic"})),n.d(e,"COMPILER_COMPONENT",(function(){return":component"})),n.d(e,"DIRECTIVE_IF",(function(){return":if"})),n.d(e,"DIRECTIVE_SWITCH",(function(){return":switch"})),n.d(e,"DIRECTIVE_FOR",(function(){return":for"})),n.d(e,"DIRECTIVE_SLOT",(function(){return":slot"})),n.d(e,"compilers",(function(){return q})),n.d(e,"getCompiler",(function(){return E})),n.d(e,"compile",(function(){return w})),n.d(e,"mount",(function(){return S})),n.d(e,"createIf",(function(){return $})),n.d(e,"createIfElse",(function(){return D})),n.d(e,"createIfs",(function(){return F})),n.d(e,"createShow",(function(){return V})),n.d(e,"createHide",(function(){return W})),n.d(e,"createSwitch",(function(){return H})),n.d(e,"createComponent",(function(){return z})),n.d(e,"createFor",(function(){return B})),n.d(e,"createSlot",(function(){return G})),n.d(e,"isStyleElement",(function(){return C})),n.d(e,"getSlots",(function(){return k})),n.d(e,"isNamedSlots",(function(){return A})),n.d(e,"changeElements",(function(){return R})),n.d(e,"createChildNodes",(function(){return I})),n.d(e,"Scope",(function(){return y})),n.d(e,"ComponentInstance",(function(){return j})),n.d(e,"addComponent",(function(){return x})),n.d(e,"ComponentRegistry",(function(){return O}))}])}));
//# sourceMappingURL=expangine-ui.js.map